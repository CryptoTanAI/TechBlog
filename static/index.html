<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechSouth - Empowering the Global South Through Technology</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #ffffff;
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: #1a365d;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-left {
            display: flex;
            align-items: center;
        }

        .menu-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            margin-right: 1rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            flex: 1;
        }

        .logo-box {
            border: 2px solid #f6ad55;
            padding: 0.75rem 1.5rem;
            background: #1a365d;
            border-radius: 0.25rem;
        }

        .logo-text {
            color: white;
            font-weight: bold;
            font-size: 1rem;
            text-align: center;
            line-height: 1.2;
        }

        .nav-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .nav-link {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 0.25rem;
            transition: background 0.3s;
        }

        .nav-link:hover {
            background: rgba(255,255,255,0.1);
        }

        .join-btn {
            background: #3182ce;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.3s;
        }

        .join-btn:hover {
            background: #2c5aa0;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #1a365d 0%, #2d3748 100%);
            padding: 8rem 2rem 4rem;
            color: white;
            min-height: 80vh;
            display: flex;
            align-items: center;
        }

        .hero-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .hero-content h1 {
            font-size: 3rem;
            font-weight: bold;
            line-height: 1.2;
            margin-bottom: 1.5rem;
        }

        .hero-subtitle {
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 1rem;
            opacity: 0.9;
            color: #f6ad55;
        }

        .hero-description {
            font-size: 1.125rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            line-height: 1.6;
        }

        .hero-cta {
            background: #f6ad55;
            color: #1a365d;
            padding: 0.875rem 2rem;
            border-radius: 0.375rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
            transition: all 0.3s;
            margin-top: 1rem;
        }

        .hero-cta:hover {
            background: #ed8936;
            transform: translateY(-2px);
        }

        .hero-video {
            position: relative;
            border-radius: 0.5rem;
            overflow: hidden;
            aspect-ratio: 16/9;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .hero-video iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Stats Section */
        .stats-section {
            background: #f7fafc;
            padding: 3rem 2rem;
        }

        .stats-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            text-align: center;
        }

        .stat-item h3 {
            font-size: 2.5rem;
            font-weight: bold;
            color: #1a365d;
            margin-bottom: 0.5rem;
        }

        .stat-item p {
            color: #4a5568;
            font-weight: 500;
        }

        /* Focus Areas Section */
        .focus-section {
            background: white;
            padding: 4rem 2rem;
        }

        .focus-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .section-header h2 {
            font-size: 2.5rem;
            font-weight: bold;
            color: #1a365d;
            margin-bottom: 1rem;
        }

        .section-subtitle {
            font-size: 1.125rem;
            color: #4a5568;
            max-width: 600px;
            margin: 0 auto;
        }

        .focus-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .focus-card {
            background: white;
            border-radius: 0.5rem;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border-left: 4px solid #f6ad55;
            transition: all 0.3s;
            cursor: pointer;
        }

        .focus-card:hover {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transform: translateY(-4px);
        }

        .focus-icon {
            width: 3rem;
            height: 3rem;
            background: #f6ad55;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .focus-card h3 {
            font-size: 1.25rem;
            font-weight: bold;
            color: #1a365d;
            margin-bottom: 0.75rem;
        }

        .focus-card p {
            color: #4a5568;
            line-height: 1.6;
        }

        /* Blog Section */
        .blog-section {
            background: #f7fafc;
            padding: 4rem 2rem;
        }

        .blog-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .blog-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .blog-status {
            background: #e2e8f0;
            color: #4a5568;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .blog-status.dynamic {
            background: #48bb78;
            color: white;
        }

        .blog-status.static {
            background: #ed8936;
            color: white;
        }

        .admin-link {
            background: #3182ce;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 500;
            transition: background 0.3s;
        }

        .admin-link:hover {
            background: #2c5aa0;
        }

        .blog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .blog-card {
            background: white;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: all 0.3s;
            cursor: pointer;
        }

        .blog-card:hover {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .blog-image {
            height: 200px;
            background: linear-gradient(135deg, #1a365d, #3182ce);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }

        .blog-category {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: uppercase;
        }

        .blog-flag {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
        }

        .blog-content {
            padding: 1.5rem;
        }

        .blog-title {
            font-size: 1.125rem;
            font-weight: bold;
            color: #1a365d;
            margin-bottom: 0.75rem;
            line-height: 1.4;
        }

        .blog-excerpt {
            color: #4a5568;
            font-size: 0.875rem;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .blog-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.75rem;
            color: #718096;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Newsletter Section */
        .newsletter-section {
            background: #1a365d;
            color: white;
            padding: 4rem 2rem;
            text-align: center;
        }

        .newsletter-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .newsletter-section h2 {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .newsletter-section p {
            font-size: 1.125rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .newsletter-form {
            display: flex;
            gap: 1rem;
            max-width: 400px;
            margin: 0 auto;
        }

        .newsletter-input {
            flex: 1;
            padding: 0.75rem;
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 0.375rem;
            background: rgba(255,255,255,0.1);
            color: white;
        }

        .newsletter-input::placeholder {
            color: rgba(255,255,255,0.7);
        }

        .newsletter-btn {
            background: #f6ad55;
            color: #1a365d;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }

        .newsletter-btn:hover {
            background: #ed8936;
        }

        /* Footer */
        .footer {
            background: #2d3748;
            color: white;
            padding: 3rem 2rem 2rem;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .footer-section h3 {
            font-size: 1.125rem;
            font-weight: bold;
            margin-bottom: 1rem;
            color: #f6ad55;
        }

        .footer-section a {
            color: #a0aec0;
            text-decoration: none;
            display: block;
            margin-bottom: 0.5rem;
            transition: color 0.3s;
        }

        .footer-section a:hover {
            color: white;
        }

        .footer-bottom {
            border-top: 1px solid #4a5568;
            margin-top: 2rem;
            padding-top: 2rem;
            text-align: center;
            color: #a0aec0;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .hero-container {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .hero-content h1 {
                font-size: 2.5rem;
            }
        }

        @media (max-width: 768px) {
            .nav-actions {
                display: none;
            }

            .newsletter-form {
                flex-direction: column;
            }

            .hero-content h1 {
                font-size: 2rem;
            }

            .stats-container {
                grid-template-columns: repeat(2, 1fr);
            }

            .blog-header {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }
        }

        /* Loading Animation */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f4f6;
            border-top: 4px solid #1a365d;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .success-message {
            background: #48bb78;
            color: white;
            padding: 1rem;
            border-radius: 0.375rem;
            margin-top: 1rem;
            display: none;
        }

        .error-message {
            background: #e53e3e;
            color: white;
            padding: 1rem;
            border-radius: 0.375rem;
            margin-top: 1rem;
            display: none;
        }

        /* Blog Modal */
        .blog-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
        }

        .blog-modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 0.5rem;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .blog-modal-close {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            color: #666;
        }

        .blog-modal-close:hover {
            color: #000;
        }

        .blog-modal h2 {
            color: #1a365d;
            margin-bottom: 1rem;
            padding-right: 2rem;
        }

        .blog-modal-meta {
            color: #666;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
        }

        .blog-modal-content p {
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: #4a5568;
        }

        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #1a365d;
        }

        .empty-state p {
            margin-bottom: 2rem;
        }

        .empty-state .admin-link {
            display: inline-block;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-left">
                <button class="menu-btn">‚ò∞</button>
            </div>
            
            <div class="logo">
                <div class="logo-box">
                    <div class="logo-text">
                        TECH<br>SOUTH
                    </div>
                </div>
            </div>
            
            <div class="nav-actions">
                <a href="#about" class="nav-link">About</a>
                <a href="#research" class="nav-link">Research</a>
                <a href="#focus" class="nav-link">Focus Areas</a>
                <a href="#partnerships" class="nav-link">Partnerships</a>
                <button class="join-btn" onclick="scrollToNewsletter()">Join Newsletter</button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-container">
            <div class="hero-content">
                <div class="hero-subtitle">EMPOWERING THE GLOBAL SOUTH</div>
                <h1>Technology Innovation Driving Economic Growth and Social Progress</h1>
                <p class="hero-description">
                    We research, analyze, and showcase how emerging technologies are transforming economies, 
                    reducing poverty, and strengthening governance across Africa, Asia, and Latin America.
                </p>
                <a href="#focus" class="hero-cta">
                    Explore Our Research ‚Üí
                </a>
            </div>
            <div class="hero-video">
                <iframe 
                    src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                    title="TechSouth Research Overview"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen>
                </iframe>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="stats-container">
            <div class="stat-item">
                <h3 id="countries-stat">50+</h3>
                <p>Countries Analyzed</p>
            </div>
            <div class="stat-item">
                <h3 id="reports-stat">200+</h3>
                <p>Research Reports</p>
            </div>
            <div class="stat-item">
                <h3 id="impact-stat">1M+</h3>
                <p>Lives Impacted</p>
            </div>
            <div class="stat-item">
                <h3 id="sectors-stat">15+</h3>
                <p>Technology Sectors</p>
            </div>
        </div>
    </section>

    <!-- Focus Areas Section -->
    <section id="focus" class="focus-section">
        <div class="focus-container">
            <div class="section-header">
                <h2>Our Focus Areas</h2>
                <p class="section-subtitle">
                    Four key pillars driving technological transformation across the Global South
                </p>
            </div>
            
            <div class="focus-grid">
                <div class="focus-card">
                    <div class="focus-icon">üìà</div>
                    <h3>Economic Empowerment</h3>
                    <p>How emerging technologies create new economic opportunities, drive GDP growth, and enable entrepreneurship in developing nations.</p>
                </div>
                
                <div class="focus-card">
                    <div class="focus-icon">ü§ù</div>
                    <h3>Social Innovation</h3>
                    <p>Technology solutions that address poverty, improve education, enhance healthcare, and create more inclusive societies.</p>
                </div>
                
                <div class="focus-card">
                    <div class="focus-icon">üèõÔ∏è</div>
                    <h3>Governance Transformation</h3>
                    <p>Digital government initiatives, e-governance platforms, and technology-enabled public service delivery.</p>
                </div>
                
                <div class="focus-card">
                    <div class="focus-icon">üöÄ</div>
                    <h3>Infrastructure Leapfrogging</h3>
                    <p>How Global South countries bypass traditional infrastructure limitations through innovative technology adoption.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Blog Section -->
    <section class="blog-section">
        <div class="blog-container">
            <div class="section-header">
                <h2>Latest Stories</h2>
                <p class="section-subtitle">
                    Daily insights into how technology is transforming the Global South
                </p>
            </div>
            
            <div class="blog-header">
                <div class="blog-status" id="blog-status">Loading blog posts...</div>
                <a href="/api/automation/generate" class="admin-link" target="_blank">Generate New Posts</a>
            </div>
            
            <div id="blog-loading" class="loading">
                <div class="spinner"></div>
            </div>
            
            <div id="blog-grid" class="blog-grid" style="display: none;">
                <!-- Dynamic blog posts will be loaded here -->
            </div>
            
            <div id="blog-empty" class="empty-state" style="display: none;">
                <h3>No Blog Posts Yet</h3>
                <p>Your automated blog system is ready, but no posts have been generated yet.</p>
                <a href="/api/automation/generate" class="admin-link" target="_blank">Generate First Posts</a>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section id="newsletter" class="newsletter-section">
        <div class="newsletter-container">
            <h2>TechSouth Weekly</h2>
            <p>Get curated insights and analysis on technologies transforming the Global South, delivered to your inbox every week.</p>
            
            <form class="newsletter-form" id="newsletter-form">
                <input 
                    type="email" 
                    class="newsletter-input" 
                    placeholder="Enter your email"
                    required
                    id="newsletter-email"
                >
                <button type="submit" class="newsletter-btn">Subscribe</button>
            </form>
            
            <div class="success-message" id="newsletter-success">
                Thank you for subscribing! You'll receive our weekly insights soon.
            </div>
            
            <div class="error-message" id="newsletter-error">
                Something went wrong. Please try again.
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Research</h3>
                <a href="#countries">Country Analysis</a>
                <a href="#technologies">Technology Reports</a>
                <a href="#impact">Impact Studies</a>
                <a href="#trends">Trend Analysis</a>
            </div>
            
            <div class="footer-section">
                <h3>Focus Areas</h3>
                <a href="#fintech">Financial Technology</a>
                <a href="#healthtech">Health Technology</a>
                <a href="#govtech">Government Technology</a>
                <a href="#edtech">Education Technology</a>
            </div>
            
            <div class="footer-section">
                <h3>Resources</h3>
                <a href="#reports">Research Reports</a>
                <a href="#data">Open Data</a>
                <a href="#methodology">Methodology</a>
                <a href="#api">Developer API</a>
            </div>
            
            <div class="footer-section">
                <h3>Connect</h3>
                <a href="#newsletter">Newsletter</a>
                <a href="#twitter">Twitter</a>
                <a href="#linkedin">LinkedIn</a>
                <a href="#contact">Contact Us</a>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2024 TechSouth. Empowering the Global South through technology research and analysis.</p>
        </div>
    </footer>

    <!-- Blog Modal -->
    <div id="blog-modal" class="blog-modal">
        <div class="blog-modal-content">
            <span class="blog-modal-close">&times;</span>
            <h2 id="modal-title"></h2>
            <div id="modal-meta" class="blog-modal-meta"></div>
            <div id="modal-content"></div>
        </div>
    </div>

    <script>
        // Global variables
        let blogPosts = [];
        let isUsingDynamicContent = false;

        // Fallback static blog posts
        const staticBlogPosts = [
            {
                id: 1,
                title: "Kenya's M-Pesa: 15 Years of Financial Revolution",
                excerpt: "Kenya's mobile money platform continues to dominate, processing 20 billion transactions in 2023 alone and serving as a global model for financial inclusion.",
                content: `
                    <p>Kenya's M-Pesa has revolutionized financial services across Africa and beyond. Launched in 2007, this mobile money platform has processed over 20 billion transactions in 2023 alone, demonstrating the power of leapfrog technology in emerging markets.</p>
                    
                    <p>The platform's success stems from its simplicity and accessibility. Users can send money, pay bills, and access financial services using basic mobile phones, without requiring traditional banking infrastructure. This has been particularly transformative in rural areas where bank branches are scarce.</p>
                    
                    <p>M-Pesa's impact extends beyond individual transactions. It has enabled the growth of digital commerce, facilitated government payments, and provided a foundation for other fintech innovations. The platform now serves over 50 million users across multiple African countries.</p>
                    
                    <p>The success of M-Pesa has inspired similar platforms worldwide and demonstrated how emerging markets can lead in financial innovation. It remains a cornerstone example of how technology can drive financial inclusion and economic empowerment in the Global South.</p>
                `,
                category: "Fintech",
                country: "Kenya",
                flag: "üá∞üá™",
                icon: "üí≥",
                published_at: "2024-08-15",
                view_count: 2450
            },
            {
                id: 2,
                title: "India's Aadhaar: Digital Identity at Unprecedented Scale",
                excerpt: "India's biometric identity system has revolutionized government service delivery and enabled millions to access banking and social services for the first time.",
                content: `
                    <p>India's Aadhaar system represents the world's largest biometric identity program, covering over 1.3 billion residents. This digital identity infrastructure has fundamentally transformed how citizens access government services and financial products.</p>
                    
                    <p>The system uses biometric data (fingerprints and iris scans) along with demographic information to create unique digital identities. This has eliminated duplicate identities and reduced fraud in government programs, saving billions of dollars annually.</p>
                    
                    <p>Aadhaar has enabled financial inclusion on an unprecedented scale. Millions of previously unbanked citizens can now open bank accounts instantly using their Aadhaar number. This has facilitated direct benefit transfers, reducing corruption and ensuring subsidies reach intended beneficiaries.</p>
                    
                    <p>The platform has also spurred innovation in the fintech sector, enabling instant KYC (Know Your Customer) processes and digital onboarding. Despite privacy concerns, Aadhaar remains a powerful example of how digital identity can transform governance and financial inclusion.</p>
                `,
                category: "Digital ID",
                country: "India",
                flag: "üáÆüá≥",
                icon: "üÜî",
                published_at: "2024-08-14",
                view_count: 1890
            },
            {
                id: 3,
                title: "Brazil's PIX Revolution: Instant Payment Transformation",
                excerpt: "Brazil's instant payment system PIX has transformed the financial landscape, enabling real-time transfers and driving fintech innovation across Latin America.",
                content: `
                    <p>Brazil's PIX instant payment system has revolutionized the country's financial landscape since its launch in 2020. This central bank-operated platform enables instant, 24/7 money transfers between any bank accounts, fundamentally changing how Brazilians handle money.</p>
                    
                    <p>PIX's adoption has been remarkable, with over 140 million users conducting billions of transactions monthly. The system's success lies in its simplicity - users can transfer money using just a phone number, email, or QR code, eliminating the need for complex bank details.</p>
                    
                    <p>The platform has significantly reduced the cost of financial transactions and increased financial inclusion. Small businesses, in particular, have benefited from lower transaction fees compared to traditional payment methods, enabling them to participate more fully in the digital economy.</p>
                    
                    <p>PIX has also spurred innovation across Latin America, with other countries developing similar instant payment systems. It demonstrates how government-led digital infrastructure can drive financial innovation and inclusion while maintaining security and reliability.</p>
                `,
                category: "Payments",
                country: "Brazil",
                flag: "üáßüá∑",
                icon: "üí∞",
                published_at: "2024-08-13",
                view_count: 1567
            },
            {
                id: 4,
                title: "Africa's AI Innovation Surge",
                excerpt: "African countries are harnessing AI to address healthcare, agriculture, and governance challenges, positioning the continent as an emerging AI innovation hub.",
                content: `
                    <p>Africa is experiencing a remarkable surge in artificial intelligence innovation, with startups and researchers across the continent developing AI solutions tailored to local challenges. This growth is positioning Africa as an emerging global hub for AI innovation.</p>
                    
                    <p>In healthcare, AI applications are addressing critical challenges such as disease diagnosis and treatment optimization. Companies like Zipline use AI-powered drones to deliver medical supplies to remote areas, while startups develop AI diagnostic tools for diseases prevalent in African contexts.</p>
                    
                    <p>Agriculture, which employs a significant portion of Africa's population, is being transformed through AI applications. Farmers are using AI-powered platforms to optimize crop yields, predict weather patterns, and access market information, improving food security and livelihoods.</p>
                    
                    <p>Government services are also benefiting from AI innovation. Countries are implementing AI-powered systems for citizen services, fraud detection, and resource allocation. This technological advancement is helping African nations leapfrog traditional development stages and build more efficient, responsive governance systems.</p>
                `,
                category: "AI",
                country: "Africa",
                flag: "üåç",
                icon: "ü§ñ",
                published_at: "2024-08-12",
                view_count: 2100
            },
            {
                id: 5,
                title: "Rwanda's Digital Health Revolution",
                excerpt: "Rwanda's comprehensive digital health platform uses AI and data analytics to improve patient outcomes and healthcare accessibility across the country.",
                content: `
                    <p>Rwanda has emerged as a leader in digital health innovation, implementing comprehensive digital health systems that serve as a model for other developing nations. The country's approach combines technology with strong governance to improve healthcare outcomes.</p>
                    
                    <p>The national health information system integrates data from all healthcare facilities, enabling real-time monitoring of health indicators and resource allocation. This system has been crucial in managing public health challenges and ensuring efficient healthcare delivery.</p>
                    
                    <p>AI and machine learning are being deployed to predict disease outbreaks, optimize treatment protocols, and improve diagnostic accuracy. These technologies are particularly valuable in a country where healthcare resources must be used efficiently to serve the entire population.</p>
                    
                    <p>Rwanda's digital health initiatives extend beyond technology to include comprehensive training programs for healthcare workers and strong data governance frameworks. This holistic approach has resulted in significant improvements in health outcomes and positions Rwanda as a leader in digital health innovation in Africa.</p>
                `,
                category: "HealthTech",
                country: "Rwanda",
                flag: "üá∑üáº",
                icon: "üè•",
                published_at: "2024-08-11",
                view_count: 1234
            },
            {
                id: 6,
                title: "Nigeria's Fintech Boom: Leapfrogging Traditional Banking",
                excerpt: "Nigeria's fintech sector is revolutionizing financial services, with digital banks and payment platforms serving millions of previously unbanked citizens.",
                content: `
                    <p>Nigeria's fintech sector has experienced explosive growth, with the country now home to some of Africa's most valuable fintech companies. This boom is transforming financial services and driving financial inclusion across West Africa's largest economy.</p>
                    
                    <p>Digital banks like Kuda and Opay are providing banking services to millions of previously unbanked Nigerians. These platforms offer features like instant account opening, low-cost transfers, and savings products, all accessible through mobile phones.</p>
                    
                    <p>Payment platforms such as Paystack and Flutterwave have enabled thousands of businesses to accept digital payments, driving e-commerce growth and formalization of the economy. These platforms process billions of dollars in transactions annually.</p>
                    
                    <p>The success of Nigerian fintech companies extends beyond national borders, with many expanding across Africa and globally. This growth demonstrates how emerging markets can become leaders in financial innovation, creating solutions that serve both local and international markets.</p>
                `,
                category: "Fintech",
                country: "Nigeria",
                flag: "üá≥üá¨",
                icon: "üè¶",
                published_at: "2024-08-10",
                view_count: 1876
            }
        ];

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadBlogPosts();
            setupEventListeners();
        });

        // Load blog posts from API or fallback to static
        async function loadBlogPosts() {
            try {
                const response = await fetch('/api/blog/posts');
                
                if (response.ok) {
                    const data = await response.json();
                    
                    if (data.posts && data.posts.length > 0) {
                        blogPosts = data.posts;
                        isUsingDynamicContent = true;
                        updateBlogStatus('dynamic', `Showing ${data.posts.length} AI-generated posts`);
                        updateStats(data);
                    } else {
                        // API returned empty results
                        blogPosts = staticBlogPosts;
                        isUsingDynamicContent = false;
                        updateBlogStatus('static', 'Showing curated content (no automated posts yet)');
                    }
                } else {
                    throw new Error('API response not ok');
                }
            } catch (error) {
                console.log('Using fallback content:', error);
                blogPosts = staticBlogPosts;
                isUsingDynamicContent = false;
                updateBlogStatus('static', 'Showing curated content (API unavailable)');
            }
            
            renderBlogPosts();
        }

        // Update blog status indicator
        function updateBlogStatus(type, message) {
            const statusElement = document.getElementById('blog-status');
            statusElement.textContent = message;
            statusElement.className = `blog-status ${type}`;
        }

        // Update stats based on API data
        function updateStats(data) {
            if (data.total) {
                document.getElementById('reports-stat').textContent = `${data.total}+`;
            }
        }

        // Render blog posts
        function renderBlogPosts() {
            const loadingElement = document.getElementById('blog-loading');
            const gridElement = document.getElementById('blog-grid');
            const emptyElement = document.getElementById('blog-empty');
            
            loadingElement.style.display = 'none';
            
            if (blogPosts.length === 0) {
                emptyElement.style.display = 'block';
                return;
            }
            
            gridElement.style.display = 'grid';
            gridElement.innerHTML = '';
            
            blogPosts.forEach(post => {
                const blogCard = createBlogCard(post);
                gridElement.appendChild(blogCard);
            });
        }

        // Create blog card element
        function createBlogCard(post) {
            const card = document.createElement('div');
            card.className = 'blog-card';
            card.onclick = () => openBlogModal(post);
            
            // Format date
            const date = new Date(post.published_at || post.created_at).toLocaleDateString();
            
            // Get category and country info
            const category = post.technology?.name || post.category || 'Technology';
            const country = post.country?.name || post.country || 'Global South';
            const flag = post.country?.flag_url || post.flag || 'üåç';
            const icon = getCategoryIcon(category);
            
            card.innerHTML = `
                <div class="blog-image">
                    <div class="blog-category">${category}</div>
                    <div class="blog-flag">${flag}</div>
                    <div>${icon}</div>
                </div>
                <div class="blog-content">
                    <h3 class="blog-title">${post.title}</h3>
                    <p class="blog-excerpt">${post.excerpt || post.content?.substring(0, 150) + '...' || 'Click to read more...'}</p>
                    <div class="blog-meta">
                        <span>${date}</span>
                        <span>${post.view_count || 0} views</span>
                    </div>
                </div>
            `;
            
            return card;
        }

        // Get category icon
        function getCategoryIcon(category) {
            const icons = {
                'Fintech': 'üí≥',
                'HealthTech': 'üè•',
                'AI': 'ü§ñ',
                'Digital ID': 'üÜî',
                'Payments': 'üí∞',
                'GovTech': 'üèõÔ∏è',
                'EdTech': 'üìö',
                'AgTech': 'üåæ'
            };
            return icons[category] || 'üöÄ';
        }

        // Open blog modal
        function openBlogModal(post) {
            const modal = document.getElementById('blog-modal');
            const title = document.getElementById('modal-title');
            const meta = document.getElementById('modal-meta');
            const content = document.getElementById('modal-content');
            
            title.textContent = post.title;
            
            const date = new Date(post.published_at || post.created_at).toLocaleDateString();
            const category = post.technology?.name || post.category || 'Technology';
            const country = post.country?.name || post.country || 'Global South';
            
            meta.innerHTML = `
                <strong>${category}</strong> ‚Ä¢ ${country} ‚Ä¢ ${date} ‚Ä¢ ${post.view_count || 0} views
            `;
            
            // Format content
            let formattedContent = post.content || 'Content not available.';
            if (typeof formattedContent === 'string' && !formattedContent.includes('<p>')) {
                // Convert plain text to paragraphs
                formattedContent = formattedContent.split('\n\n').map(p => `<p>${p}</p>`).join('');
            }
            
            content.innerHTML = formattedContent;
            
            modal.style.display = 'block';
        }

        // Setup event listeners
        function setupEventListeners() {
            // Close modal
            document.querySelector('.blog-modal-close').onclick = function() {
                document.getElementById('blog-modal').style.display = 'none';
            };
            
            // Close modal when clicking outside
            window.onclick = function(event) {
                const modal = document.getElementById('blog-modal');
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            };
            
            // Newsletter form
            document.getElementById('newsletter-form').addEventListener('submit', handleNewsletterSubmit);
        }

        // Handle newsletter submission
        async function handleNewsletterSubmit(e) {
            e.preventDefault();
            
            const email = document.getElementById('newsletter-email').value;
            const successElement = document.getElementById('newsletter-success');
            const errorElement = document.getElementById('newsletter-error');
            
            // Hide previous messages
            successElement.style.display = 'none';
            errorElement.style.display = 'none';
            
            try {
                const response = await fetch('/api/newsletter/subscribe', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ email: email })
                });
                
                if (response.ok) {
                    successElement.style.display = 'block';
                    document.getElementById('newsletter-email').value = '';
                } else {
                    throw new Error('Subscription failed');
                }
            } catch (error) {
                errorElement.style.display = 'block';
            }
        }

        // Smooth scroll to newsletter
        function scrollToNewsletter() {
            document.getElementById('newsletter').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }
    </script>
</body>
</html>

